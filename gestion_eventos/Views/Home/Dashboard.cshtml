@{
    ViewData["Title"] = "Dashboard";
}

<div class="container-fluid" style="background-color: #f4f6f9; min-height: 100vh; padding: 20px;">
    <!-- Main Content -->
    <div class="row">
        <!-- Header -->
        <div class="col-12 d-flex justify-content-between align-items-center py-3">
            <h4 class="text-dark fw-bold">Dashboard</h4>
            <div class="d-flex align-items-center">
                <i class="fas fa-bell text-secondary me-3 fs-5"></i>
                <i class="fas fa-envelope text-secondary me-3 fs-5"></i>
                <img src="https://via.placeholder.com/40" class="rounded-circle border border-secondary" alt="Profile">
            </div>
        </div>

        <!-- Cards -->
        <div class="row g-4 mb-4">
            <div class="col-md-3">
                <div class="card dashboard-card text-center border-0 shadow" style="background: linear-gradient(135deg, #74ebd5, #acb6e5); color: black;">
                    <div class="card-body">
                        <h6 class="fw-bold" style="color: black;">Total de Eventos</h6>
                        <p class="h3 fw-bold" style="color: black;">@ViewData["TotalEventos"]</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card dashboard-card text-center border-0 shadow" style="background: linear-gradient(135deg, #a1c4fd, #c2e9fb); color: black;">
                    <div class="card-body">
                        <h6 class="fw-bold" style="color: black;">Entradas Vendidas</h6>
                        <p class="h3 fw-bold" style="color: black;">@ViewData["EntradasVendidas"]</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card dashboard-card text-center border-0 shadow" style="background: linear-gradient(135deg, #fbc2eb, #a6c1ee); color: black;">
                    <div class="card-body">
                        <h6 class="fw-bold" style="color: black;">Usuarios Registrados</h6>
                        <p class="h3 fw-bold" style="color: black;">@ViewData["UsuariosRegistrados"]</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card dashboard-card text-center border-0 shadow" style="background: linear-gradient(135deg, #fdcbf1, #e6dee9); color: black;">
                    <div class="card-body">
                        <h6 class="fw-bold" style="color: black;">Personas Asistieron</h6>
                        <p class="h3 fw-bold" style="color: black;">@ViewData["PersonasAsistieron"]</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Circular Chart -->
        <div class="row g-4 mt-5">
            <div class="col-md-6 offset-md-3">
                <div class="card border-0 shadow-sm">
                    <div class="card-body">
                        <h6 class="text-center fw-bold text-primary">Eventos Disponibles vs Usuarios Registrados</h6>
                        <canvas id="circularChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .dashboard-card {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

        .dashboard-card:hover {
            transform: translateY(-10px) scale(1.05);
            box-shadow: 0px 10px 20px rgba(0, 0, 0, 0.2);
        }
</style>

@section Scripts {
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // Circular Chart: Eventos Disponibles vs Usuarios Registrados
            const eventosDisponibles = @ViewData["TotalEventos"];
            const usuariosRegistrados = @ViewData["UsuariosRegistrados"];

            new Chart(document.getElementById('circularChart'), {
                type: 'pie',
                data: {
                    labels: ['Eventos Disponibles', 'Usuarios Registrados'],
                    datasets: [{
                        data: [eventosDisponibles, usuariosRegistrados],
                        backgroundColor: ['#74ebd5', '#acb6e5'],
                        hoverBackgroundColor: ['#4cc9f0', '#4361ee']
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'top',
                        }
                    }
                }
            });
        });
    </script>
}
